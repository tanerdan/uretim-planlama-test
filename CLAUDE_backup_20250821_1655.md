# ğŸ“‹ Ãœretim Planlama YazÄ±lÄ±mÄ± - Claude Code DokÃ¼mantasyonu

## ğŸ¯ Proje HakkÄ±nda
Django tabanlÄ± Ã¼retim planlama sistemi. MÃ¼ÅŸteri sipariÅŸlerinden baÅŸlayarak malzeme ihtiyaÃ§ planlamasÄ± ve satÄ±n alma sÃ¼reÃ§lerini yÃ¶netir.

## ğŸ—ï¸ Proje YapÄ±sÄ±
```
D:\Documents_D\SoftwareDevelopment\uretim-planlama\
â”œâ”€â”€ venv\                    # Virtual environment
â”œâ”€â”€ backend\
â”‚   â”œâ”€â”€ production\         # Ana uygulama
â”‚   â”‚   â”œâ”€â”€ models.py      # 19 model tanÄ±mlÄ±
â”‚   â”‚   â”œâ”€â”€ admin.py       # Admin Ã¶zelleÅŸtirmeleri
â”‚   â”‚   â”œâ”€â”€ serializers.py # API serializers
â”‚   â”‚   â”œâ”€â”€ views.py       # API views
â”‚   â”‚   â”œâ”€â”€ urls.py        # API routes
â”‚   â”‚   â””â”€â”€ templates/admin/  # Custom templates
â”‚   â”œâ”€â”€ settings.py        # Django ayarlarÄ±
â”‚   â””â”€â”€ urls.py           # Ana URL yapÄ±landÄ±rmasÄ±
â”œâ”€â”€ media\                 # YÃ¼klenen dosyalar
â”œâ”€â”€ manage.py
â””â”€â”€ requirements.txt
```

## ğŸš€ Kurulum ve Ã‡alÄ±ÅŸtÄ±rma
```bash
# Virtual environment aktifleÅŸtir
venv\Scripts\activate

# BaÄŸÄ±mlÄ±lÄ±klarÄ± yÃ¼kle
pip install -r requirements.txt

# VeritabanÄ± migrasyonlarÄ±
python manage.py migrate

# SÃ¼per kullanÄ±cÄ± oluÅŸtur (gerekirse)
python manage.py createsuperuser

# Sunucuyu baÅŸlat
python manage.py runserver

# Admin paneline eriÅŸim
http://127.0.0.1:8000/admin/
```

## âœ… Tamamlanan Ã–zellikler

### 1. Temel ModÃ¼ller
- **MÃ¼ÅŸteri YÃ¶netimi**: Tam CRUD, iletiÅŸim bilgileri, aktif/pasif durumu
- **ÃœrÃ¼n YÃ¶netimi**: Hammadde/ara Ã¼rÃ¼n/bitmiÅŸ Ã¼rÃ¼n kategorileri, stok takibi
- **SipariÅŸ YÃ¶netimi**: MÃ¼ÅŸteri sipariÅŸleri, Ã§oklu kalem, dosya yÃ¼kleme
- **BOM (Bill of Materials)**: Ã‡ok seviyeli Ã¼rÃ¼n reÃ§eteleri

### 2. MRP (Malzeme Ä°htiyaÃ§ Planlama) â­
- Bekleyen sipariÅŸleri toplu seÃ§me
- BOM'larÄ± **derinlemesine analiz** (ara Ã¼rÃ¼nleri aÃ§arak hammaddelere ulaÅŸma)
- **Recursif malzeme hesaplama** - Ã§ok seviyeli BOM desteÄŸi
- Malzeme ihtiyacÄ± iÃ§in "SatÄ±n Al" / "Stoktan Kullan" seÃ§imi
- Malzeme ihtiyaÃ§larÄ±nÄ± veritabanÄ±na kaydetme
- Ä°lgili sipariÅŸ ve Ã¼rÃ¼n bilgilerini JSON olarak saklama

### 3. SatÄ±n Alma ModÃ¼lÃ¼ â­
- **TedarikÃ§i yÃ¶netimi**: Tam bilgi seti, vergi bilgileri
- **SatÄ±n alma sipariÅŸi oluÅŸturma**: Malzeme ihtiyaÃ§larÄ±ndan otomatik
- **Ã‡oklu para birimi**: Her satÄ±r iÃ§in ayrÄ± para birimi
- **Esnek teslimat**: Her malzeme iÃ§in ayrÄ± teslim tarihi
- **SipariÅŸ export/yazdÄ±rma**: PDF template hazÄ±r
- **GÃ¼ncel teslim tarihi takibi**: Orijinal vs gÃ¼ncel tarih
- **DeÄŸiÅŸiklik geÃ§miÅŸi**: TÃ¼m teslim tarihi gÃ¼ncellemeleri kayÄ±t altÄ±nda
- **Liste gÃ¶rÃ¼nÃ¼mÃ¼nden hÄ±zlÄ± dÃ¼zenleme**: Inline editing

### 4. Malzeme GeliÅŸ Sistemi â­
- **MalzemeGelis Modeli**: SatÄ±n alma sipariÅŸi ve kalemine baÄŸlÄ±
- **Ã‡oklu para birimi**: TRY, USD, EUR, GBP desteÄŸi
- **KÄ±smi teslimat takibi**: Bekliyor/kÄ±smi/tam/fazla durumlarÄ±
- **Otomatik sipariÅŸ kapatma**: TÃ¼m kalemler tamamlandÄ±ÄŸÄ±nda
- **Raporlama sistemi**: Dashboard, performans analizi, Excel export

### 5. Ãœretim ModÃ¼lÃ¼ â­â­ (TAMAMLANDI - 21 AÄŸustos 2025)
- **Ä°ÅŸ Ä°stasyonlarÄ±**: Makine ve istasyon tanÄ±mlarÄ±
- **Standart Ä°ÅŸ AdÄ±mlarÄ±**: Operasyon template'leri
- **Ä°ÅŸ AkÄ±ÅŸlarÄ±**: ÃœrÃ¼n bazlÄ± Ã¼retim sÃ¼reÃ§ tanÄ±mlarÄ±
- **GÃ¶rsel Ä°ÅŸ AkÄ±ÅŸÄ± TasarÄ±mÄ±**: Drag&drop ile workflow oluÅŸturma
- **Ä°ÅŸ Emirleri**: SipariÅŸ bazlÄ± Ã¼retim emirleri
- **Recursif Ä°ÅŸ Emri OluÅŸturma**: Ana Ã¼rÃ¼n + ara Ã¼rÃ¼n emirleri otomatik
- **Operasyon-Malzeme EÅŸleÅŸtirmesi**: Her operasyona Ã¶zel malzeme atamasÄ±
- **BaÄŸÄ±mlÄ±lÄ±k YÃ¶netimi**: Operasyonlar arasÄ± otomatik baÄŸÄ±mlÄ±lÄ±k kurma

### 6. Durum Takibi ve Otomasyonlar
- **SipariÅŸ DurumlarÄ±**: `beklemede` â†’ `malzeme_planlandi` â†’ `is_emirleri_olusturuldu` â†’ `uretimde` â†’ `tamamlandi`
- **Malzeme Ä°htiyaÃ§ DurumlarÄ±**: `beklemede` â†’ `siparis_verildi` â†’ `kismi_geldi` â†’ `tamamlandi`
- **Ä°ÅŸ Emri DurumlarÄ±**: `planlandi` â†’ `malzeme_bekliyor` â†’ `hazir` â†’ `basladi` â†’ `tamamlandi`
- **Otomatik Durum GÃ¼ncellemeleri**: Ä°ÅŸ emri oluÅŸturulduÄŸunda sipariÅŸ durumu otomatik gÃ¼ncellenir

### 7. GÃ¶rsel Malzeme Takibi â­ (TAMAMLANDI)
- **Malzeme KullanÄ±m Ä°ÅŸaretleme**: Drop edilen malzemeler sol panelde gÃ¶rsel olarak iÅŸaretlenir
- **KullanÄ±ldÄ± Badge'leri**: YeÅŸil âœ“ iÅŸareti ile kullanÄ±lan malzemeler
- **ÅeffaflÄ±k ve Filtreler**: KullanÄ±lan malzemeler %50 ÅŸeffaf + gri filtre
- **Hover Efektleri**: Animasyonlu geÃ§iÅŸler ve bÃ¼yÃ¼tme efektleri
- **Otomatik Temizleme**: Canvas temizlendiÄŸinde malzeme durumlarÄ± sÄ±fÄ±rlanÄ±r

### 8. Admin Panel Ã–zelleÅŸtirmeleri
- **GÃ¶rsel Ä°ÅŸ AkÄ±ÅŸÄ± EditÃ¶rÃ¼**: Custom template ile drag&drop arayÃ¼z
- **AJAX Workflow Kaydetme**: GerÃ§ek zamanlÄ± workflow kaydetme
- **Smart Form Filtering**: Ä°ÅŸ emri formlarÄ±nda akÄ±llÄ± filtreleme
- **Hover BOM gÃ¶rÃ¼ntÃ¼leme**: ÃœrÃ¼n listesinde reÃ§ete detaylarÄ±
- **Stok durumu gÃ¶stergeleri**: Renk kodlu durumlar
- **Toplu iÅŸlemler**: Ã‡oklu sipariÅŸ seÃ§imi ve planlama

## ğŸ“Š VeritabanÄ± Modelleri

### Ana Modeller (1-6)
1. **Musteri** - MÃ¼ÅŸteri bilgileri ve iletiÅŸim
2. **Urun** - ÃœrÃ¼n tanÄ±mlarÄ± (hammadde/ara Ã¼rÃ¼n/bitmiÅŸ Ã¼rÃ¼n)
3. **UrunRecete** - ÃœrÃ¼n reÃ§eteleri (BOM) - recursive yapÄ±
4. **Siparis** - MÃ¼ÅŸteri sipariÅŸleri
5. **SiparisKalem** - SipariÅŸ detay kalemleri
6. **SiparisDosya** - SipariÅŸ ek dosyalarÄ±

### MRP ModÃ¼lÃ¼ (7-8)
7. **MalzemePlanlama** (Proxy) - Planlama arayÃ¼zÃ¼
8. **MalzemeIhtiyac** - Hesaplanan malzeme ihtiyaÃ§larÄ±

### SatÄ±n Alma ModÃ¼lÃ¼ (9-12)
9. **Tedarikci** - TedarikÃ§i bilgileri
10. **SatinAlmaSiparisi** - SatÄ±n alma sipariÅŸleri
11. **SatinAlmaKalemi** - SatÄ±n alma detay kalemleri
12. **SatinAlmaTeslimGuncelleme** - Teslim tarihi deÄŸiÅŸiklik geÃ§miÅŸi

### Malzeme GeliÅŸ ModÃ¼lÃ¼ (13)
13. **MalzemeGelis** - Malzeme teslim alÄ±mlarÄ±

### Ãœretim ModÃ¼lÃ¼ (14-19) â­ TAMAMLANDI
14. **IsIstasyonu** - Ä°ÅŸ istasyonlarÄ± ve makineler
15. **StandardIsAdimi** - Standart operasyon template'leri
16. **IsAkisi** - ÃœrÃ¼n bazlÄ± iÅŸ akÄ±ÅŸlarÄ±
17. **IsAkisiOperasyon** - Ä°ÅŸ akÄ±ÅŸÄ± operasyonlarÄ± (malzeme atamalarÄ± dahil)
18. **IsEmri** - Ãœretim iÅŸ emirleri
19. **IsEmriOperasyonDurum** - Ä°ÅŸ emri operasyon durum takibi

## ğŸ¨ GÃ¶rsel Ä°ÅŸ AkÄ±ÅŸÄ± TasarÄ±mÄ± â­â­ TAMAMLANDI

### Ã–zellikler
- **Drag & Drop ArayÃ¼zÃ¼**: Sol panelden canvas'a sÃ¼rÃ¼kle-bÄ±rak
- **Ä°ÅŸ AdÄ±mlarÄ±**: Standart operasyonlarÄ± canvas'a ekleme
- **BOM Malzemeleri**: ÃœrÃ¼n reÃ§etesinden otomatik malzeme listesi
- **Operasyon-Malzeme EÅŸleÅŸtirmesi**: Malzemeleri operasyonlara atama
- **BaÄŸlantÄ± Ã‡izimi**: Operasyonlar arasÄ± baÄŸÄ±mlÄ±lÄ±k tanÄ±mlama
- **GÃ¶rsel Feedback**: Malzeme atamalarÄ± iÃ§in animasyonlu geri bildirim
- **Otomatik Kaydetme**: Workflow ve malzeme atamalarÄ± veritabanÄ±na kayÄ±t

### KullanÄ±m AkÄ±ÅŸÄ±
1. **ÃœrÃ¼n SeÃ§imi** â†’ BOM malzemeleri yÃ¼klenir
2. **Ä°ÅŸ AdÄ±mlarÄ± Ekleme** â†’ Standard operasyonlarÄ± canvas'a sÃ¼rÃ¼kle
3. **Malzeme Atama** â†’ BOM malzemelerini operasyonlara sÃ¼rÃ¼kle
4. **BaÄŸlantÄ± Ã‡izimi** â†’ Operasyonlar arasÄ± baÄŸÄ±mlÄ±lÄ±k tanÄ±mla
5. **Kaydetme** â†’ Workflow ve malzeme atamalarÄ± kaydedilir
6. **Ä°ÅŸ Emri OluÅŸturma** â†’ SipariÅŸlerden bu workflow kullanÄ±larak iÅŸ emri oluÅŸtur

## ğŸ’¡ Ã–nemli Teknik Notlar

### Yeni Ãœretim AlgoritmalarÄ± (TAMAMLANDI)
- **Recursif Ä°ÅŸ Emri OluÅŸturma**: Ana Ã¼rÃ¼n iÃ§in iÅŸ emri oluÅŸtururken, BOM'daki ara Ã¼rÃ¼nler iÃ§in de otomatik iÅŸ emri oluÅŸturma
- **AkÄ±llÄ± BaÄŸÄ±mlÄ±lÄ±k Kurma**: Ä°ÅŸ akÄ±ÅŸÄ±ndaki operasyon sÄ±rasÄ± + ara Ã¼rÃ¼n baÄŸÄ±mlÄ±lÄ±klarÄ± otomatik kurulur
- **Operasyon-Malzeme Mapping**: Her operasyona Ã¶zel malzeme gereklilikleri JSON field'da saklanÄ±r
- **GÃ¶rsel Malzeme Takibi**: JavaScript ile malzeme kullanÄ±m durumu gÃ¶rsel olarak takip edilir

### MRP AlgoritmasÄ±
- `calculate_materials()` fonksiyonu recursive BOM Ã§Ã¶zÃ¼mÃ¼ yapar
- Ã‡ok seviyeli Ã¼rÃ¼n aÄŸaÃ§larÄ±nÄ± destekler
- Ara Ã¼rÃ¼nleri otomatik olarak hammaddelere kadar aÃ§ar
- Malzeme ihtiyaÃ§larÄ±nÄ± toplar ve birleÅŸtirir

### Admin Ã–zelleÅŸtirmeleri (TAMAMLANDI)
- **GÃ¶rsel Ä°ÅŸ AkÄ±ÅŸÄ± EditÃ¶rÃ¼**: Custom template ile drag&drop arayÃ¼z
- **AJAX Workflow Kaydetme**: GerÃ§ek zamanlÄ± workflow kaydetme
- **Smart Form Filtering**: Ä°ÅŸ emri formlarÄ±nda akÄ±llÄ± filtreleme
- **Custom Templates**: Zengin kullanÄ±cÄ± deneyimi iÃ§in Ã¶zel template'ler

### API KatmanÄ±
- Django REST Framework kullanÄ±lÄ±yor
- Serializer'lar hazÄ±r ancak frontend henÃ¼z yok
- Gelecekte React/Vue.js frontend planlanÄ±yor

## ğŸ”§ GeliÅŸtirme KomutlarÄ±

```bash
# Yeni migration oluÅŸtur
python manage.py makemigrations

# Migration'larÄ± uygula
python manage.py migrate

# Admin kullanÄ±cÄ±sÄ± oluÅŸtur
python manage.py createsuperuser

# Shell'de test
python manage.py shell

# Statik dosyalarÄ± topla (production iÃ§in)
python manage.py collectstatic
```

## ğŸ“ Kod KonvansiyonlarÄ±
- Model isimleri: TÃ¼rkÃ§e (Musteri, Urun, Siparis)
- Field isimleri: TÃ¼rkÃ§e snake_case (musteri_adi, olusturulma_tarihi)
- Verbose_name: TÃ¼rkÃ§e UI metinleri
- Admin customization: TÃ¼rkÃ§e arayÃ¼z
- Docstring'ler: TÃ¼rkÃ§e aÃ§Ä±klamalar

### ğŸ”§ Ã‡Ã¶zÃ¼len Teknik Sorunlar (21 AÄŸustos 2025) - TAMAMLANDI
- **Unicode encoding hatasÄ±**: Print statement'larÄ±ndaki TÃ¼rkÃ§e karakterler (cp1252 codec) âœ…
- **MalzemeGelis veritabanÄ± hatasÄ±**: BoÅŸ tablo durumunda exception handling âœ…
- **Format_html hatasÄ±**: SafeString format code sorunu dÃ¼zeltildi âœ…
- **Ä°ÅŸ emri baÄŸÄ±mlÄ±lÄ±k sorunu**: AkÄ±llÄ± filtreleme ile Ã§Ã¶zÃ¼ldÃ¼ âœ…
- **Malzeme-operasyon eÅŸleÅŸtirme sorunu**: GÃ¶rsel drag&drop sistemi ile Ã§Ã¶zÃ¼ldÃ¼ âœ…
- **SipariÅŸ durum gÃ¼ncelleme sorunu**: Ä°ÅŸ emri oluÅŸturma action'Ä±nda dÃ¼zeltildi âœ…
- **Encoding hatasÄ± gÃ¶rsel tasarÄ±mda**: Backend log mesajlarÄ± temizlendi âœ…

## ğŸš« Bilinen SÄ±nÄ±rlamalar
- Frontend arayÃ¼zÃ¼ yok (sadece Django Admin)
- GerÃ§ek zamanlÄ± stok takibi eksik (Ã¼retim sÃ¼recinde gÃ¼ncellenecek)
- ~~Ãœretim modÃ¼lÃ¼ henÃ¼z geliÅŸtirilmedi~~ â†’ **âœ… Ãœretim modÃ¼lÃ¼ TAMAMLANDI**
- ~~Malzeme-operasyon eÅŸleÅŸtirme manuel~~ â†’ **âœ… GÃ¶rsel eÅŸleÅŸtirme sistemi TAMAMLANDI**

## ğŸ“‹ Gelecek Ã–zellikler (Roadmap)
1. **Ãœretim Takip Sistemi** (Sonraki): GerÃ§ek zamanlÄ± Ã¼retim durumu takibi
2. **Stok Hareket ModÃ¼lÃ¼**: GerÃ§ek zamanlÄ± stok gÃ¼ncellemeleri ve hareket geÃ§miÅŸi
3. **Kapasite Planlama**: Makine ve insan kaynaÄŸÄ± kapasitesi planlama
4. **Frontend Web ArayÃ¼zÃ¼**: React/Vue.js ile modern web arayÃ¼zÃ¼
5. **Mobile App**: Ãœretim katÄ± ve depo iÃ§in mobile uygulama
6. **API Entegrasyonu**: ERP sistemleri ile entegrasyon
7. **Kalite Kontrol ModÃ¼lÃ¼**: Malzeme geliÅŸinde kalite onay sÃ¼reÃ§leri
8. **Dashboard ve Analytics**: Ãœretim performans dashboard'larÄ±

## ğŸ¯ Ã–ncelikli GeliÅŸtirme AlanlarÄ±
1. **Ãœretim Takibi**: Ä°ÅŸ emirlerinin gerÃ§ek zamanlÄ± durumu
2. **Stok Otomasyonu**: Ãœretim tamamlandÄ±ÄŸÄ±nda otomatik stok gÃ¼ncellemesi
3. **Kapasite YÃ¶netimi**: Ä°stasyon kapasitelerine gÃ¶re planlama
4. **Performans Analytics**: Ãœretim verimliliÄŸi raporlarÄ±

---
*Son gÃ¼ncelleme: 2025-08-21 16:55 - Ãœretim ModÃ¼lÃ¼ Tamamen Stabil Durumda âœ…*
*Claude Code session'larÄ± iÃ§in hazÄ±rlanmÄ±ÅŸtÄ±r*

## ğŸ“ Backup DosyalarÄ±
- `CLAUDE_backup_20250821_1155.md` - Malzeme GeliÅŸ sistemi tamamlandÄ±ktan sonraki durum
- `CLAUDE_backup_20250821_1647.md` - Ãœretim ModÃ¼lÃ¼ ve GÃ¶rsel Ä°ÅŸ AkÄ±ÅŸÄ± TasarÄ±mÄ± tamamlandÄ±ktan sonraki durum
- `CLAUDE_backup_20250821_1655.md` - Ãœretim ModÃ¼lÃ¼ tamamen stabil ve test edilmiÅŸ durumda

## ğŸ¯ MEVCUT DURUM Ã–ZETÄ° (21 AÄŸustos 2025 - 16:55)

Sistem **tamamen fonksiyonel** ve **stabil** durumda:

### âœ… Test EdilmiÅŸ ve Ã‡alÄ±ÅŸan Ã–zellikler:
1. **GÃ¶rsel Ä°ÅŸ AkÄ±ÅŸÄ± TasarÄ±mÄ±** - Drag&drop malzeme atamasÄ± Ã§alÄ±ÅŸÄ±yor
2. **Ä°ÅŸ Emri OluÅŸturma** - Recursif olarak ana Ã¼rÃ¼n + ara Ã¼rÃ¼n emirleri oluÅŸuyor
3. **BaÄŸÄ±mlÄ±lÄ±k YÃ¶netimi** - Operasyonlar arasÄ± baÄŸÄ±mlÄ±lÄ±klar otomatik kuruluyor
4. **SipariÅŸ Durum GÃ¼ncellemesi** - Ä°ÅŸ emri oluÅŸturulduÄŸunda otomatik gÃ¼ncelleniyor
5. **Malzeme-Operasyon EÅŸleÅŸtirme** - Her operasyona Ã¶zel malzemeler atanÄ±yor
6. **GÃ¶rsel Malzeme Takibi** - KullanÄ±lan malzemeler sol panelde iÅŸaretleniyor

### ğŸ› ï¸ Teknik Durumu:
- **TÃ¼m encoding hatlarÄ± Ã§Ã¶zÃ¼ldÃ¼**
- **Admin panel tamamen fonksiyonel**
- **VeritabanÄ± migrate edildi**
- **19 model tamamen Ã§alÄ±ÅŸÄ±r durumda**

**SÄ°STEM ÃœRETÄ°M Ä°Ã‡Ä°N HAZIR** - Sonraki geliÅŸtirme adÄ±mlarÄ± iÃ§in beklemede.